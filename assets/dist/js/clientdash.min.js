var cdAJAX;!function(e){cdAJAX={reset_roles:function(){jQuery("body").append('<div id="cd-ajax-cover"></div>'),jQuery("#cd-ajax-cover").animate({opacity:1},200);var e={action:"cd_reset_roles"};jQuery.post(ajaxurl,e,function(e){alert(e),location.reload()})},reset_all_settings:function(){var e={action:"cd_reset_all_settings"};jQuery.post(ajaxurl,e,function(e){alert(e)})},reset_admin_menu:function(){var e={action:"cd_reset_admin_menu","cd-create-admin-menus":!0};jQuery.post(ajaxurl,e,function(e){alert(e)})},populate_nav_menu:function(){for(var t=cdData.navMenusAJAX.menu_items.length,n=0,i=0;i<t;i++){var a={action:"cd_populate_nav_menu",menu_item:cdData.navMenusAJAX.menu_items[i].menu_item,menu_item_position:cdData.navMenusAJAX.menu_items[i].menu_item_position,menu_ID:cdData.navMenusAJAX.menu_ID,role:cdData.navMenusAJAX.role};e.post(ajaxurl,a,function(){n++;var i=Math.round(100/t*n);e(".cd-progress-bar-inner").css("right",100-i+"%"),e(".cd-progress-bar-percent").html(i+"%"),n==t&&(window.location.href=cdData.navMenusAJAX.url)})}}},e(function(){cdData.hasOwnProperty("navMenusAJAX")&&cdAJAX.populate_nav_menu()})}(jQuery);var cdMain;!function(e){cdMain={init:function(){this.disable_drag(),jQuery(".cd-toggle-switch").click(function(e){e.stopPropagation(),cdMain.toggle_switch(jQuery(this))}),jQuery(".cd-tip-close").click(function(e){e.stopPropagation(),cdMain.close_tip(jQuery(this))}),this.tips_stop_propogation()},updown:function(e){var t=document.getElementById(e);"block"==t.style.display?t.style.display="none":t.style.display="block"},toggle_roles_page:function(e){var t=jQuery(e).siblings(".cd-display-grid-tab"),n=jQuery(e).find(".cd-up-down");n.toggleClass("open"),t.toggleClass("hidden")},dashicons_selected:function(e){var t=jQuery("#cd-dashicons-selections"),n=jQuery("#cd-dashicons-grid"),i=t.find(".cd-"+e+" .dashicons").attr("data-dashicon");t.find(".dashicons").removeClass("active"),n.find(".cd-dashicons-grid-item").removeClass("active"),t.find(".cd-"+e+" .dashicons").addClass("active"),n.find(".dashicons."+i).closest(".cd-dashicons-grid-item").addClass("active")},dashicons_change:function(e,t){var n=jQuery("#cd-dashicons-selections"),i=n.find(".dashicons.active").attr("data-widget");jQuery("#cd_dashicon_"+i).val(e),n.find(".dashicons.active").attr({"data-dashicon":e,class:"dashicons "+e+" active"}),jQuery("#cd-dashicons-grid").find(".cd-dashicons-grid-item").removeClass("active"),jQuery(t).closest(".cd-dashicons-grid-item").addClass("active")},disable_drag:function(){var e=jQuery("#dashboard-widgets");e.length&&e.find(".meta-box-sortables").sortable({disabled:!0})},toggle_switch:function(e){var t=e.find("input");e.toggleClass("on").toggleClass("off"),t.prop("disabled")?t.prop("disabled",!1):t.prop("disabled",!0)},show_tips:function(){jQuery(".cd-tip").each(function(){jQuery(this).removeClass("cd-tip-hidden")})},close_tip:function(e){e.closest(".cd-tip").addClass("cd-tip-hidden")},tips_stop_propogation:function(){jQuery(".cd-tip *").click(function(e){e.stopPropagation()})}},e(function(){cdMain.init()}),e(window).load(function(){setTimeout(cdMain.show_tips,1e3)})}(jQuery);var cdMenus;!function(e){cdMenus={init:function(){this.modify_max_menu_depth(),this.jQuery_extensions(),this.separator_checkbox(),this.link_checkbox(),this.addItemToMenu(),this.icon_selector()},addItemToMenu:function(){wpNavMenu.addItemToMenu=function(t,n,i){var a,s=e("#menu").val(),o=e("#menu-settings-column-nonce").val();n=n||function(){},i=i||function(){},a={action:"cd_add_menu_item",menu:s,"menu-settings-column-nonce":o,"menu-item":t},e.post(ajaxurl,a,function(t){var s=e("#menu-instructions");t=e.trim(t),n(t,a),e("li.pending").hide().fadeIn("slow"),e(".drag-instructions").show(),!s.hasClass("menu-instructions-inactive")&&s.siblings().length&&s.addClass("menu-instructions-inactive"),i()})}},link_checkbox:function(){function t(){e("#add-custom-links").find(".spinner").is(":visible")?setTimeout(t,100):e("#add-custom-links").find('input[type="text"]').val("")}e("#submit-custom-link").click(function(){e("#custom-checkbox").prop("checked",!0),setTimeout(function(){t()},50)}),e("#custom-link").find('input[type="text"]').keypress(function(n){13==n.which&&(e("#submit-custom-link").click(),t())})},separator_checkbox:function(){e("#submit-separator").click(function(){e("#separator-checkbox").prop("checked",!0)})},jQuery_extensions:function(){e.fn.extend({getItemData:function(e,t){e=e||"menu-item";var n,i={},a=["menu-item-db-id","menu-item-parent-id","menu-item-position","menu-item-title","menu-item-original-title","menu-item-url","menu-item-classes","menu-item-cd-type","menu-item-cd-icon","menu-item-cd-page-title","menu-item-cd-submenu-parent","menu-item-cd-params","menu-item-cd-hookname"];return t||"menu-item"!=e||(t=this.find(".menu-item-data-db-id").val()),t?(this.find("input").each(function(){var s;for(n=a.length;n--;)"menu-item"==e?s=a[n]+"["+t+"]":"add-menu-item"==e&&(s="menu-item["+t+"]["+a[n]+"]"),this.name&&s==this.name&&(i[a[n]]=this.value)}),i):i}})},modify_max_menu_depth:function(){function t(e){var t;d=e.placeholder.prev(),u=e.placeholder.next(),d[0]==e.item[0]&&(d=d.prev()),u[0]==e.item[0]&&(u=u.next()),r=d.length?d.offset().top+d.height():0,l=u.length?u.offset().top+u.height()/3:0,o=u.length?u.menuItemDepth():0,c=d.length?(t=d.menuItemDepth()+1)>wpNavMenu.options.globalMaxDepth?wpNavMenu.options.globalMaxDepth:t:0}function n(e,t){e.placeholder.updateDepthClass(t,f),f=t}function i(){if(!g[0].className)return 0;var e=g[0].className.match(/menu-max-depth-(\d+)/);return e&&e[1]?parseInt(e[1],10):0}function a(t){var n,i=_;if(0!==t){if(t>0)n=p+t,n>_&&(i=n);else if(t<0&&p==_)for(;!e(".menu-item-depth-"+i,wpNavMenu.menuList).length&&i>0;)i--;g.removeClass("menu-max-depth-"+_).addClass("menu-max-depth-"+i),_=i}}wpNavMenu.options.globalMaxDepth=1;var s,o,c,d,u,r,l,m,h,p,f=0,v=wpNavMenu.menuList.offset().left,g=e("body"),_=i();0!==e("#menu-to-edit li").length&&e(".drag-instructions").show(),v+=wpNavMenu.isRTL?wpNavMenu.menuList.width():0;var y;wpNavMenu.menuList.sortable({handle:".menu-item-handle",placeholder:"sortable-placeholder",start:function(i,a){var o,c,d,u,r;wpNavMenu.isRTL&&(a.item[0].style.right="auto"),h=a.item.children(".menu-item-transport"),s=a.item.menuItemDepth(),n(a,s),d=a.item.next()[0]==a.placeholder[0]?a.item.next():a.item,u=d.childMenuItems(),h.append(u),o=h.outerHeight(),o+=o>0?1*a.placeholder.css("margin-top").slice(0,-2):0,o+=a.helper.outerHeight(),m=o,o-=2,a.placeholder.height(o),p=s,u.each(function(){var t=e(this).menuItemDepth();p=t>p?t:p}),c=a.helper.find(".menu-item-handle").outerWidth(),c+=wpNavMenu.depthToPx(p-s),c-=2,a.placeholder.width(c),r=a.placeholder.next(),r.css("margin-top",m+"px"),a.placeholder.detach(),e(this).sortable("refresh"),a.item.after(a.placeholder),r.css("margin-top",0),t(a),y=!!u.length},stop:function(e,t){var n,i,o,c=f-s;n=h.children().insertAfter(t.item),i=t.item.find(".item-title .is-submenu"),0<f?i.show():i.hide(),o=t.item.find(".item-title .dashicons"),0==f?o.removeClass("hidden"):o.addClass("hidden"),0!==c&&(t.item.updateDepthClass(f),n.shiftDepthClass(c),a(c)),wpNavMenu.registerChange(),t.item.updateParentMenuItemDBId(),t.item[0].style.top=0,wpNavMenu.isRTL&&(t.item[0].style.left="auto",t.item[0].style.right=0),t.item.hasClass("menu-item-separator")&&0!=f&&(wpNavMenu.menuList.sortable("cancel"),t.item.updateDepthClass(0),i.hide(),t.item.find(".menu-item-data-parent-id").val("0"),t.item.effect("shake")),wpNavMenu.refreshKeyboardAccessibility(),wpNavMenu.refreshAdvancedAccessibility()},change:function(e,n){n.placeholder.parent().hasClass("menu")||(d.length?d.after(n.placeholder):wpNavMenu.menuList.prepend(n.placeholder)),t(n)},sort:function(i,a){var s=a.helper.offset(),d=wpNavMenu.isRTL?s.left+a.helper.width():s.left,h=wpNavMenu.negateIfRTL*wpNavMenu.pxToDepth(d-v);h>c||s.top<r?h=c:h<o&&(h=o);var p=!1;e("#menu-to-edit").find("li.menu-item-separator").each(function(){(e(this).next("li.sortable-placeholder").length||e(this).next("li.ui-sortable-helper").next("li.sortable-placeholder").length)&&(p=!0)}),h==f||y||p?(y||p)&&n(a,0):n(a,h),l&&s.top+m>l&&(u.after(a.placeholder),t(a),e(this).sortable("refreshPositions"))}})},icon_selector:function(){e(".edit-menu-item-cd-icon").click(function(t){t.stopPropagation(),e(this).is(":focus")&&e(this).closest(".cd-menu-icon-field").find(".cd-menu-icon-selector").show()}),e("body").click(function(){e(".cd-menu-icon-selector").hide()}),e(".cd-menu-icon-selector").find("li").click(function(){var t=e(this).attr("data-icon"),n=e(this).closest(".menu-item").hasClass("menu-item-depth-1")?"dashicons hidden "+t:"dashicons "+t;e(this).closest(".cd-menu-icon-field").find('input[type="text"]').val(t),e(this).closest(".menu-item").find(".item-title").find(".dashicons").attr("class",n)})}},e(function(){e("body").hasClass("cd-nav-menu")&&!e("#menu-settings-column").hasClass("metabox-holder-disabled")&&cdMenus.init()})}(jQuery);var cdPointers;!function(e){cdPointers={init:function(){e(".cd-pointer").each(function(){var t=e(this),n={content:"Client Dash is AWESOME",edge:"left",align:"center"};for(var i in n)if(n.hasOwnProperty(i)){if("content"==i){n[i]=t.html();continue}t.attr("data-cd-pointer-"+i)&&(n[i]=t.attr("data-cd-pointer-"+i))}t.pointer({content:n.content,position:{edge:n.edge,align:n.align}}).pointer("open")})}},e(function(){cdPointers.init()})}(jQuery);var cdWidgets;!function(e){cdWidgets={init:function(){}},e(function(){e("#cd-widgets").length&&cdWidgets.init()})}(jQuery);
//# sourceMappingURL=clientdash.min.js.map
